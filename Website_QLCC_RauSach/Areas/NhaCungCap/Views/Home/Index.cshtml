@model DonHangViewModel
@{
    ViewData["Title"] = "Quản lý đơn hàng";
    Layout = "~/Areas/NhaCungCap/Shared/_LayoutContainer.cshtml";
}


<script src="https://cdn.tailwindcss.com"></script>

<style>
	.custom-hover-navbar:hover {
		background: #edede9;
		color: black;
	}

	.custom-navbar-background {
		background: #fefae0;
		color: black;
		border: 2px solid #e9edc9;
	}

	.nav-pills .nav-link.active {
		color: #fff !important;
		background-color: #80ed99 !important;
	}

</style>


<section class="featured spad">
	<div class="container">
		<a class="btn btn-primary float-right" href="/Account/Logout">Đăng xuất</a>
	</div>
	<div class="hero-wrap hero-bread hero-t">
		<div class="container">
			<div class="row no-gutters slider-text align-items-center justify-content-center">
				<div class="col-md-9 ftco-animate text-center">
					<h1 class="font-bold text-5xl">DANH SÁCH ĐƠN HÀNG</h1>
				</div>
			</div>
		</div>
	</div>
</section>
<section class="ftco-section">
	<div class="container">
		<div class="row mt-5">
			<div class="col-md-12 nav-link-wrap px-4 py-6">
				<div class="nav nav-pills d-flex text-center" id="v-pills-tab" role="tablist" aria-orientation="vertical">
					<a class="nav-link nav-link-t ftco-animate active flex-fill mr-lg-1 btn custom-hover-navbar custom-navbar-background" id="v-pills-1-tab" data-toggle="pill"
					   href="#v-pills-1" role="tab" aria-controls="v-pills-1" aria-selected="true"
					   style="font-size: 20px;">Tất cả</a>

					<a class="nav-link nav-link-t ftco-animate flex-fill mr-lg-1 btn  custom-hover-navbar custom-navbar-background" id="v-pills-2-tab" data-toggle="pill"
					   href="#v-pills-2" role="tab" aria-controls="v-pills-2" aria-selected="false" style="font-size: 20px;">Chờ xác nhận</a>

					<a class="nav-link nav-link-t ftco-animate flex-fill mr-lg-1 btn  custom-hover-navbar custom-navbar-background" id="v-pills-3-tab" data-toggle="pill"
					   href="#v-pills-3" role="tab" aria-controls="v-pills-3" aria-selected="false" style="font-size: 20px;">Đang giao</a>

					<a class="nav-link nav-link-t ftco-animate flex-fill btn  custom-hover-navbar custom-navbar-background" id="v-pills-4-tab" data-toggle="pill"
					   href="#v-pills-4" role="tab" aria-controls="v-pills-4" aria-selected="false" style="font-size: 20px;">Đã giao</a>

					<a class="nav-link nav-link-t ftco-animate flex-fill btn  custom-hover-navbar custom-navbar-background" id="v-pills-5-tab" data-toggle="pill"
					   href="#v-pills-5" role="tab" aria-controls="v-pills-4" aria-selected="false" style="font-size: 20px;">Đã hủy</a>
				</div>
			</div>
			<div class="col-md-12 tab-wrap">

				<div class="tab-content bg-light" id="v-pills-tabContent">

					<!--Tất cả các đơn-->
					<div class="tab-pane fade show active" id="v-pills-1" role="tabpanel"
						 aria-labelledby="day-1-tab">
						<ul class="orders">
							<!--Một đơn hàng gồm nhiều loại sản phẩm-->
							<li class="order">
								<div class="info-order">
									@{
										foreach (var donHang in Model.TatCaDonHang)
										{
											<div class="border-2 border-black p-4 my-4 position-relative">
												<div class="flex">
													<p class="id-order font-normal">Mã đơn hàng:</p>
													<p>@donHang.MaDh</p>
												</div>
												<div class="flex">
													<p class="id-nvst">Mã NVST:</p>
													<div>@donHang.MaNvst</div>
												</div>
												<div class="flex">
													<p class="id-nvncc">Mã NVNCC: </p>
													<div>@donHang.MaNvncc</div>
												</div>
												<div class="flex">
													<p class="od-date">Ngày đặt: </p>
													<div>@donHang.NgayDat</div>
												</div>
												<div class="flex">
													<p class="deliver-date">Ngày giao hàng: </p>
													<div>@donHang.NgayGiaoHang</div>
												</div>
												<div class="flex">
													<p class="od-made-date">Thời gian tạo đơn hàng: </p>
													<div>@donHang.TgtaoDon</div>
												</div>
												<div class="flex">
													<p class="deliver-address">Địa chỉ nhận: </p>
													<div>@donHang.DiaChiNhan</div>
												</div>
												<div class="flex">
													<p class="payment-method">Hình thức thanh toán: </p>
													<div>@donHang.HinhThucThanhToan</div>
												</div>
												<div class="flex flex-col">
													<div class="flex">
														<p class="od-status">Trạng thái đơn hàng: </p>
														<div>@donHang.TrangThaiDh</div>
													</div>
													<form asp-action="CapNhatTrangThaiDonHang" asp-route-id="@donHang.MaDh" method="post" class="flex gap-4">
														<div>
															<select asp-for="@donHang.TrangThaiDh" asp-items="Html.GetEnumSelectList<TrangThaiDonHang>()">
																<option value="@donHang.TrangThaiDh">Cập nhật trạng thái</option>
															</select>
														</div>

														<button type="submit" class="btn btn-primary">Lưu</button>
													</form>
												</div>
												<div class="btn-danhgia position-absolute bottom-0 right-0">
													<a asp-controller="DonHang" asp-action="ChiTietDonHang" asp-route-id="@donHang.MaDh" onclick="document.getElementById('rate-form').style.display='block'" class="btn btn-primary bg-lime-600" style="width:auto;">Xem chi tiết</a>
												</div>
											</div>
										}
									}
								</div>
							</li>
						</ul>
					</div>

					<!--Các đơn chờ xác nhận-->
					<div class="tab-pane fade" id="v-pills-2" role="tabpanel" aria-labelledby="v-pills-day-2-tab">
						<div class="p-4">
							<ul class="orders">
								<!--Một đơn hàng gồm nhiều loại sản phẩm-->
								<li class="order">
									<div class="info-order">
										@{
											foreach (var donHang in Model.ChoXacNhanDonHang)
											{
												<div class="border-2 border-black p-4 my-4 position-relative">
													<div class="flex">
														<p class="id-order">Mã đơn hàng:</p>
														<p>@donHang.MaDh</p>
													</div>
													<div class="flex">
														<p class="id-nvst">Mã NVST:</p>
														<div>@donHang.MaNvst</div>
													</div>
													<div class="flex">
														<p class="id-nvncc">Mã NVNCC: </p>
														<div>@donHang.MaNvncc</div>
													</div>
													<div class="flex">
														<p class="od-date">Ngày đặt: </p>
														<div>@donHang.NgayDat</div>
													</div>
													<div class="flex">
														<p class="deliver-date">Ngày giao hàng: </p>
														<div>@donHang.NgayGiaoHang</div>
													</div>
													<div class="flex">
														<p class="od-made-date">Thời gian tạo đơn hàng: </p>
														<div>@donHang.TgtaoDon</div>
													</div>
													<div class="flex">
														<p class="deliver-address">Địa chỉ nhận: </p>
														<div>@donHang.DiaChiNhan</div>
													</div>
													<div class="flex">
														<p class="payment-method">Hình thức thanh toán: </p>
														<div>@donHang.HinhThucThanhToan</div>
													</div>
													<div class="flex">
														<p class="od-status">Trạng thái đơn hàng: </p>
														<div>@donHang.TrangThaiDh</div>
													</div>
													<div class="btn-danhgia position-absolute bottom-0 right-0">
														<a href="#" onclick="document.getElementById('rate-form').style.display='block'" class="btn btn-primary" style="width:auto;">Xem chi tiết</a>
													</div>
												</div>
											}
										}
									</div>
								</li>
							</ul>
						</div>
					</div>

					<!--Các đơn đang giao-->
					<div class="tab-pane fade" id="v-pills-3" role="tabpanel" aria-labelledby="v-pills-day-3-tab">
						<div class="p-4">
							<li class="order">
								<div class="info-order">
									@{
										foreach (var donHang in Model.DangGiaoDonHang)
										{
											<div class="border-2 border-black p-4 my-4 position-relative">
												<div class="flex">
													<p class="id-order">Mã đơn hàng:</p>
													<p>@donHang.MaDh</p>
												</div>
												<div class="flex">
													<p class="id-nvst">Mã NVST:</p>
													<div>@donHang.MaNvst</div>
												</div>
												<div class="flex">
													<p class="id-nvncc">Mã NVNCC: </p>
													<div>@donHang.MaNvncc</div>
												</div>
												<div class="flex">
													<p class="od-date">Ngày đặt: </p>
													<div>@donHang.NgayDat</div>
												</div>
												<div class="flex">
													<p class="deliver-date">Ngày giao hàng: </p>
													<div>@donHang.NgayGiaoHang</div>
												</div>
												<div class="flex">
													<p class="od-made-date">Thời gian tạo đơn hàng: </p>
													<div>@donHang.TgtaoDon</div>
												</div>
												<div class="flex">
													<p class="deliver-address">Địa chỉ nhận: </p>
													<div>@donHang.DiaChiNhan</div>
												</div>
												<div class="flex">
													<p class="payment-method">Hình thức thanh toán: </p>
													<div>@donHang.HinhThucThanhToan</div>
												</div>
												<div class="flex">
													<p class="od-status">Trạng thái đơn hàng: </p>
													<div>@donHang.TrangThaiDh</div>
												</div>
												<div class="btn-danhgia position-absolute bottom-0 right-0">
													<a href="#" onclick="document.getElementById('rate-form').style.display='block'" class="btn btn-primary" style="width:auto;">Xem chi tiết</a>
												</div>
											</div>
										}
									}
								</div>
							</li>
						</div>
					</div>

					<!--Các đơn đã giao-->
					<div class="tab-pane fade" id="v-pills-4" role="tabpanel" aria-labelledby="v-pills-day-4-tab">
						<div class="p-4">
							<li class="order">
								<div class="info-order">
									@{
										foreach (var donHang in Model.DaGiaoDonHang)
										{
											<div class="border-2 border-black p-4 my-4 position-relative">
												<div class="flex">
													<p class="id-order">Mã đơn hàng:</p>
													<p>@donHang.MaDh</p>
												</div>
												<div class="flex">
													<p class="id-nvst">Mã NVST:</p>
													<div>@donHang.MaNvst</div>
												</div>
												<div class="flex">
													<p class="id-nvncc">Mã NVNCC: </p>
													<div>@donHang.MaNvncc</div>
												</div>
												<div class="flex">
													<p class="od-date">Ngày đặt: </p>
													<div>@donHang.NgayDat</div>
												</div>
												<div class="flex">
													<p class="deliver-date">Ngày giao hàng: </p>
													<div>@donHang.NgayGiaoHang</div>
												</div>
												<div class="flex">
													<p class="od-made-date">Thời gian tạo đơn hàng: </p>
													<div>@donHang.TgtaoDon</div>
												</div>
												<div class="flex">
													<p class="deliver-address">Địa chỉ nhận: </p>
													<div>@donHang.DiaChiNhan</div>
												</div>
												<div class="flex">
													<p class="payment-method">Hình thức thanh toán: </p>
													<div>@donHang.HinhThucThanhToan</div>
												</div>
												<div class="flex">
													<p class="od-status">Trạng thái đơn hàng: </p>
													<div>@donHang.TrangThaiDh</div>
												</div>
												<div class="btn-danhgia position-absolute bottom-0 right-0">
													<a href="#" onclick="document.getElementById('rate-form').style.display='block'" class="btn btn-primary" style="width:auto;">Xem chi tiết</a>
												</div>
											</div>
										}
									}
								</div>
							</li>
						</div>
					</div>

					<!--Các đơn đã hủy-->
					<div class="tab-pane fade" id="v-pills-5" role="tabpanel" aria-labelledby="v-pills-day-5-tab">
						<div class="p-4">
							<li class="order">
								<div class="info-order">
									@{
										foreach (var donHang in Model.DaHuyDonHang)
										{
											<div class="border-2 border-black p-4 my-4 position-relative">
												<div class="flex">
													<p class="id-order">Mã đơn hàng:</p>
													<p>@donHang.MaDh</p>
												</div>
												<div class="flex">
													<p class="id-nvst">Mã NVST:</p>
													<div>@donHang.MaNvst</div>
												</div>
												<div class="flex">
													<p class="id-nvncc">Mã NVNCC: </p>
													<div>@donHang.MaNvncc</div>
												</div>
												<div class="flex">
													<p class="od-date">Ngày đặt: </p>
													<div>@donHang.NgayDat</div>
												</div>
												<div class="flex">
													<p class="deliver-date">Ngày giao hàng: </p>
													<div>@donHang.NgayGiaoHang</div>
												</div>
												<div class="flex">
													<p class="od-made-date">Thời gian tạo đơn hàng: </p>
													<div>@donHang.TgtaoDon</div>
												</div>
												<div class="flex">
													<p class="deliver-address">Địa chỉ nhận: </p>
													<div>@donHang.DiaChiNhan</div>
												</div>
												<div class="flex">
													<p class="payment-method">Hình thức thanh toán: </p>
													<div>@donHang.HinhThucThanhToan</div>
												</div>
												<div class="flex">
													<p class="od-status">Trạng thái đơn hàng: </p>
													<div>@donHang.TrangThaiDh</div>
												</div>
												<div class="btn-danhgia position-absolute bottom-0 right-0">
													<a href="#" onclick="document.getElementById('rate-form').style.display='block'" class="btn btn-primary" style="width:auto;">Xem chi tiết</a>
												</div>
											</div>
										}
									}
								</div>
							</li>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>